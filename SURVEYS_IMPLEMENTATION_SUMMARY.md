# –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –æ–ø–∏—Ç—É–≤–∞–Ω—å

## üéØ –ó–∞–≤–¥–∞–Ω–Ω—è
–†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –æ–ø–∏—Ç—É–≤–∞–Ω—å —Ç–∞–∫, —è–∫ –±—É–ª–æ —Ä–∞–Ω—ñ—à–µ.

## ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### 1. –û–Ω–æ–≤–ª–µ–Ω–æ SurveyController

#### –ü–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞:
```php
class SurveyController extends Controller
{
    public function index()
    {
        // –û—Ç—Ä–∏–º—É—î–º–æ –¥–æ—Å—Ç—É–ø–Ω—ñ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
        $surveys = Survey::available()->ordered()->get();
        
        if (Auth::check()) {
            foreach ($surveys as $survey) {
                $survey->user_completed = $survey->hasUserCompleted();
            }
        }
    }

    public function show($id)
    {
        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è
        $hasCompleted = $survey->hasUserCompleted();
        $userResponse = $hasCompleted ? $survey->getUserResponse() : null;
    }

    public function submit(Request $request, $id)
    {
        // –í–∞–ª—ñ–¥–∞—Ü—ñ—è, –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤
    }
}
```

#### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó** - —Ç—ñ–ª—å–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è** - –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—é
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π** - –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è
- **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤** - –≤ SurveyResponse

### 2. –†–æ–∑—à–∏—Ä–µ–Ω–æ –º–æ–¥–µ–ª—å Survey

#### –î–æ–¥–∞–Ω—ñ –º–µ—Ç–æ–¥–∏:
```php
// Scopes
public function scopeAvailable(Builder $query): Builder
public function scopeOrdered(Builder $query): Builder

// Relationships
public function responses()

// Helper methods
public function hasUserCompleted($userId = null): bool
public function getUserResponse($userId = null)
public function getStatusAttribute(): string
public function getIsAvailableAttribute(): bool
public function getResponsesCountAttribute(): int
```

#### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ** –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è (–¥–∞—Ç–∏, –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å)
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è** –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º
- **–û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π** –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **–ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

### 3. –°—Ç–≤–æ—Ä–µ–Ω–æ view surveys/index.blade.php

#### Hero —Å–µ–∫—Ü—ñ—è:
```html
<section class="hero">
    <h1>üìã –î–æ—Å—Ç—É–ø–Ω—ñ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è</h1>
    <p>–í–∞—à–∞ –¥—É–º–∫–∞ –≤–∞–∂–ª–∏–≤–∞ –¥–ª—è –Ω–∞—Å!</p>
    
    @auth
        <div class="user-info">üëã –í—ñ—Ç–∞—î–º–æ, {{ auth()->user()->name }}!</div>
    @else
        <div class="auth-notice">üîê –î–ª—è —É—á–∞—Å—Ç—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —É–≤—ñ–π—Ç–∏</div>
    @endauth
</section>
```

#### –ö–∞—Ä—Ç–∫–∏ –æ–ø–∏—Ç—É–≤–∞–Ω—å:
```html
<div class="survey-card {{ $survey->user_completed ? 'completed' : '' }}">
    <div class="survey-header">
        <div class="survey-status">{{ $survey->status }}</div>
        @if($survey->user_completed)
            <div class="completion-badge">‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ</div>
        @endif
    </div>
    
    <div class="survey-content">
        <h3>{{ $survey->title }}</h3>
        <p>{{ $survey->description }}</p>
        
        <div class="survey-meta">
            <span>üë• {{ $survey->target_audience }}</span>
            <span>‚ùì {{ count($survey->questions) }} –ø–∏—Ç–∞–Ω—å</span>
            <span>üîí –ê–Ω–æ–Ω—ñ–º–Ω–µ</span>
            <span>‚è∞ –î–æ {{ $survey->end_date }}</span>
            <span>üìä {{ $survey->responses_count }} –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π</span>
        </div>
    </div>
    
    <div class="survey-actions">
        @if($survey->user_completed)
            <a href="{{ route('surveys.show', $survey->id) }}">üëÅÔ∏è –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</a>
        @else
            <a href="{{ route('surveys.show', $survey->id) }}">üìù –ü—Ä–æ–π—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è</a>
        @endif
    </div>
</div>
```

### 4. –°—Ç–≤–æ—Ä–µ–Ω–æ view surveys/show.blade.php

#### Hero —Å–µ–∫—Ü—ñ—è –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é:
```html
<section class="survey-hero">
    <div class="survey-status">{{ $survey->status }}</div>
    <div class="auth-user-info">üë§ {{ auth()->user()->name }}</div>
    <h1>{{ $survey->title }}</h1>
    <p>{{ $survey->description }}</p>
    
    <div class="survey-meta">
        <span>üë• {{ $survey->target_audience }}</span>
        <span>üîí –ê–Ω–æ–Ω—ñ–º–Ω–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è</span>
        <span>‚è∞ –ó–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è {{ $survey->end_date }}</span>
    </div>
</section>
```

#### –¢—Ä–∏ —Å—Ç–∞–Ω–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∏:

**1. –ó–∞–≤–µ—Ä—à–µ–Ω–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è:**
```html
<section class="survey-completed">
    <div class="completed-icon">‚úÖ</div>
    <h2>–í–∏ –≤–∂–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —Ü–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è</h2>
    <p>–ü—Ä–æ–π–¥–µ–Ω–æ {{ $userResponse->created_at->format('d.m.Y –æ H:i') }}</p>
    
    @if(!$survey->is_anonymous)
        <div class="user-answers">
            <!-- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
        </div>
    @endif
</section>
```

**2. –î–æ—Å—Ç—É–ø–Ω–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è (—Ñ–æ—Ä–º–∞):**
```html
<section class="survey-form-section">
    <form action="{{ route('surveys.submit', $survey->id) }}" method="POST">
        @foreach($survey->questions as $index => $question)
            <div class="question-block">
                <h3>{{ $index + 1 }}. {{ $question['question'] }}
                    @if($question['required']) <span class="required">*</span> @endif
                </h3>
                
                @switch($question['type'])
                    @case('text')
                        <input type="text" name="answers[{{ $index }}]">
                    @case('textarea')
                        <textarea name="answers[{{ $index }}]"></textarea>
                    @case('radio')
                        <!-- Radio –æ–ø—Ü—ñ—ó -->
                    @case('checkbox')
                        <!-- Checkbox –æ–ø—Ü—ñ—ó -->
                    @case('select')
                        <!-- Select dropdown -->
                    @case('rating')
                        <!-- 5-–∑—ñ—Ä–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞ -->
                    @case('yes_no')
                        <!-- –¢–∞–∫/–ù—ñ –æ–ø—Ü—ñ—ó -->
                @endswitch
            </div>
        @endforeach
        
        <button type="submit">üì§ –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</button>
    </form>
</section>
```

**3. –ù–µ–¥–æ—Å—Ç—É–ø–Ω–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è:**
```html
<section class="survey-unavailable">
    <div class="unavailable-icon">üö´</div>
    <h2>–û–ø–∏—Ç—É–≤–∞–Ω–Ω—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ</h2>
    <p>–ü—Ä–∏—á–∏–Ω–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ...</p>
</section>
```

### 5. –¢–∏–ø–∏ –ø–∏—Ç–∞–Ω—å

#### –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ç–∏–ø–∏:
1. **text** - —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ
2. **textarea** - –±–∞–≥–∞—Ç–æ—Ä—è–¥–∫–æ–≤–µ –ø–æ–ª–µ
3. **radio** - –≤–∏–±—ñ—Ä –æ–¥–Ω–æ–≥–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É
4. **checkbox** - –≤–∏–±—ñ—Ä –∫—ñ–ª—å–∫–æ—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
5. **select** - –≤–∏–ø–∞–¥–∞—é—á–∏–π —Å–ø–∏—Å–æ–∫
6. **rating** - 5-–∑—ñ—Ä–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞
7. **yes_no** - –¢–∞–∫/–ù—ñ

#### –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:
- **–ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —ñ–º–µ–Ω—ñ** –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤**
- **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É** –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- **–ö–∞—Å—Ç–æ–º–Ω—ñ —Å—Ç–∏–ª—ñ** –¥–ª—è radio/checkbox

### 6. –°–∏—Å—Ç–µ–º–∞ –æ–±–º–µ–∂–µ–Ω—å

#### –û–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É:
- **–¢—ñ–ª—å–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ** –º–æ–∂—É—Ç—å –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è
- **–û–¥–Ω–æ—Ä–∞–∑–æ–≤–µ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è** - –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç–∞–º
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–∞—Ç** - start_date —Ç–∞ end_date
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ** - is_active

#### –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
- **–£—Å–ø—ñ—à–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è** - "–î—è–∫—É—î–º–æ –∑–∞ —É—á–∞—Å—Ç—å!"
- **–ü–æ–≤—Ç–æ—Ä–Ω–µ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è** - "–í–∏ –≤–∂–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —Ü–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è"
- **–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø** - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ –ª–æ–≥—ñ–Ω

### 7. –î–∏–∑–∞–π–Ω —Ç–∞ —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è

#### –ö–æ–ª—å–æ—Ä–æ–≤–∞ —Å—Ö–µ–º–∞:
- **–û—Å–Ω–æ–≤–Ω–∏–π –≥—Ä–∞–¥—ñ—î–Ω—Ç**: #28a745 ‚Üí #20c997 (–∑–µ–ª–µ–Ω–∏–π)
- **–ó–∞–≤–µ—Ä—à–µ–Ω—ñ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è**: –∑–µ–ª–µ–Ω–∞ —Ä–∞–º–∫–∞ —Ç–∞ —Ñ–æ–Ω
- **–°—Ç–∞—Ç—É—Å–∏**: –∑–µ–ª–µ–Ω–∏–π (–∞–∫—Ç–∏–≤–Ω–µ), —á–µ—Ä–≤–æ–Ω–∏–π (–Ω–µ–∞–∫—Ç–∏–≤–Ω–µ)

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:
- **–ê–Ω—ñ–º–æ–≤–∞–Ω–∞ —ñ–∫–æ–Ω–∫–∞** ‚úÖ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö –æ–ø–∏—Ç—É–≤–∞–Ω—å
- **Hover –µ—Ñ–µ–∫—Ç–∏** –Ω–∞ –∫–∞—Ä—Ç–∫–∞—Ö —Ç–∞ –∫–Ω–æ–ø–∫–∞—Ö
- **–ö–∞—Å—Ç–æ–º–Ω—ñ radio/checkbox** –∑ –∞–Ω—ñ–º–∞—Ü—ñ—î—é
- **5-–∑—ñ—Ä–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞** –∑ hover –µ—Ñ–µ–∫—Ç–∞–º–∏

#### –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å:
- **–ú–æ–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è** (768px breakpoint)
- **–ì–Ω—É—á–∫—ñ —Å—ñ—Ç–∫–∏** –¥–ª—è –∫–∞—Ä—Ç–æ–∫
- **–°—Ç–µ–∫—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤** –Ω–∞ –º–∞–ª–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö

### 8. –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Ñ–æ—Ä–º–∏

#### –í–∞–ª—ñ–¥–∞—Ü—ñ—è:
```php
$rules = [];
foreach ($survey->questions as $index => $question) {
    if ($question['required'] ?? false) {
        $rules["answers.{$index}"] = 'required';
    }
}
```

#### –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è:
```php
SurveyResponse::create([
    'survey_id' => $survey->id,
    'user_id' => Auth::id(),
    'answers' => $request->answers ?? [],
    'ip_address' => $request->ip(),
    'user_agent' => $request->userAgent(),
    'completed_at' => now(),
]);
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### URL –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- **–°–ø–∏—Å–æ–∫ –æ–ø–∏—Ç—É–≤–∞–Ω—å**: `http://localhost:8001/surveys`
- **–î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞**: `http://localhost:8001/surveys/1`
- **–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è**: `php artisan serve --port=8001`

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –ø—Ä–∞—Ü—é—î:
- ‚úÖ **–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É** –æ–ø–∏—Ç—É–≤–∞–Ω—å
- ‚úÖ **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó** –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ **–§–æ—Ä–º–∞ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è** –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ –ø–∏—Ç–∞–Ω—å
- ‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è** –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- ‚úÖ **–ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—é**
- ‚úÖ **–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤** –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö –æ–ø–∏—Ç—É–≤–∞–Ω—å

## ‚úÖ –°—Ç–∞—Ç—É—Å: –°–¢–û–†–Ü–ù–ö–ê –û–ü–ò–¢–£–í–ê–ù–¨ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–ê

–ü–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –æ–ø–∏—Ç—É–≤–∞–Ω—å –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–æ –∑ —É—Å—ñ–º–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏! üöÄ
